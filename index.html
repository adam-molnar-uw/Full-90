<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Full 90" />
  <meta name="theme-color" content="#0a0a0a" />
  <title>Full 90</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { background: #0a0a0a; overflow-x: hidden; }
    ::-webkit-scrollbar { display: none; }
    textarea:focus { outline: none; }
    button { -webkit-appearance: none; }
    @supports(padding: env(safe-area-inset-top)) {
      .app-header { padding-top: calc(28px + env(safe-area-inset-top)); }
      .app-body { padding-bottom: calc(60px + env(safe-area-inset-bottom)); }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useCallback } = React;

    const START_DATE = new Date(2026, 1, 7);

    function getDateForDay(weekNum, dayIdx) {
      let totalDays = 0;
      for (let w = 0; w < PROGRAM_DATA.weeks[weekNum - 1] ? weekNum - 1 : 0; w++) {
        if (PROGRAM_DATA.weeks[w]) totalDays += PROGRAM_DATA.weeks[w].days.length;
      }
      // recalc properly
      totalDays = 0;
      for (let w = 0; w < weekNum - 1; w++) {
        if (PROGRAM_DATA.weeks[w]) totalDays += PROGRAM_DATA.weeks[w].days.length;
      }
      totalDays += dayIdx;
      const date = new Date(START_DATE);
      date.setDate(date.getDate() + totalDays);
      return date;
    }

    function formatDate(date) {
      const months = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
      return `${months[date.getMonth()]} ${date.getDate()}`;
    }

    function generateWeeks() {
  const weeks = [];

  // WEEK 1
  weeks.push({
    number: 1,
    phase: "Base + Nerve Recovery",
    focus: "Establish routine, protect sit-bone, build aerobic base without bike seat",
    progressionGate: "Ischial tuberosity pain not worsening. Groin nerve at 0/10 or resolving. Can complete all physio exercises without flare-up.",
    days: [
      {
        day: "Saturday",
        type: "rest",
        label: "Day 1 â€” Inflammation Management",
        sessions: [
          { name: "Piriformis release with ball â€” do now and again tonight" },
          { name: "Glute release â€” all 3 rounds today" },
          { name: "Hollow hold â€” 3Ã—30s barefoot" },
          { name: "Foot exercises: short foot, big toe press-downs, towel scrunches" },
          { name: "Heat pad on sit-bone/glute area: 15â€“20 min (NOT ice â€” ice aggravates nerve irritation). Do piriformis release right after while tissue is warm." },
        ],
        notes: "NO bike. NO sitting on hard surfaces. Use a cushion with coccyx cutout or sit on folded towel offset to thighs. Do NOT stretch hamstrings â€” pulls directly on ischial tuberosity. Gentle walking is fine.",
      },
      {
        day: "Sunday",
        type: "rest",
        label: "Day 2 â€” Rest + Physio Only",
        sessions: [
          { name: "Full daily physio (hollow hold, piriformis, glute release, foot exercises)" },
          { name: "Assess sit-bone after sleep â€” is inflammation settling?" },
          { name: "Heat pad 15â€“20 min on glute/sit-bone area if still sensitive. NO ice on nerve irritation." },
          { name: "Gentle 15 min walk if feeling okay", zone: "Z1" },
        ],
        notes: "If sit-bone is calming down, you're on track for Monday. If still very irritated, we adjust Monday to pure upper body or pool work. HEAT not ice for all nerve-related flare-ups throughout this program.",
      },
      {
        day: "Monday",
        type: "conditioning",
        label: "Standing Bike Intervals",
        hrTarget: "RPE 8â€“9 during sprints (no H10 yet â€” use perceived effort)",
        sessions: [
          { name: "Warm-up: 5 min standing pedal, easy pace", zone: "RPE 4" },
          { name: "8Ã—10s standing sprints / 50s easy standing pedal", zone: "RPE 8â€“9" },
          { name: "Cool-down: 5 min easy", zone: "RPE 2â€“3" },
        ],
        notes: "Stay standing the entire time. If sit-bone flares even standing, switch to elliptical. No H10 yet â€” use RPE: sprints should feel 8â€“9/10 (can barely talk), easy pedal 4/10 (conversational).",
        physio: ["Movement Prep: Ankle hops, A-skip, B-skip, Carioca (3Ã—50ft each, 90s rest). CUE: L ankle control on all landings. SKIP Carioca if groin nerve is active â€” the crossover loads adduction + rotation."],
        sessions: [
          { name: "ðŸŽ‰ H10 arrives today â€” charge it, pair with Polar app, wear it for every session from now on" },
          { name: "Adduction plank, long lever â€” 3Ã—45â€“60s. MONITOR: if inguinal groin area flares, reduce hold time or skip." },
          { name: "DB 1-leg RDL â€” 3Ã—8 (single 18lb DB, 5s eccentric) â€” LEFT SIDE: stop at torso parallel (FAI impingement limit + sit-bone). RIGHT SIDE: stop before sit-bone stretch.", zone: "Controlled" },
          { name: "Stabilization lunge â€” 3Ã—6" },
          { name: "Adductor slide (towel) â€” 3Ã—8. MONITOR: if groin nerve tingling increases, reduce range or skip." },
          { name: "Side lunges â€” 3Ã—6. LEFT SIDE: don't sink as deep (FAI â€” deep flexion + adduction compresses anterior hip)." },
        ],
        notes: "On 1-leg RDL: LEFT side has two depth limits â€” sit-bone AND anterior hip impingement. Stop at torso parallel, never chase depth. RIGHT side: sit-bone is the only limiter. Groin nerve: if the warm/tingly sensation increases during adductor work, stop those exercises and note it. Stabilization lunge is also your L ankle proprioception builder â€” focus on controlling the ankle on every rep.",
      },
      {
        day: "Wednesday",
        type: "rest",
        label: "Rest + Daily Physio Only",
        sessions: [],
        notes: "Daily physio only. Piriformis release and glute release are especially important today.",
      },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Aerobic Base + Max HR Test",
        hrTarget: "Z2 for aerobic, then ALL-OUT for max HR test",
        sessions: [
          { name: "PUT ON H10 â€” first tracked session" },
          { name: "20 min elliptical or standing bike at conversational pace", zone: "Z2" },
          { name: "If using pool: 20 min aqua jogging (excellent for nerve recovery)", zone: "Z2" },
          { name: "Rest 5 min, then MAX HR TEST: 4-min all-out effort on standing bike or hill run. Last 30s should be absolute max.", zone: "Z5" },
          { name: "Record your peak HR â†’ set your Polar zones from this number" },
          { name: "10 min easy cool-down", zone: "Z1" },
        ],
        notes: "H10 day! Do the max HR test standing on the bike or on a hill run â€” NOT seated (sit-bone). The 4-min protocol: start hard, build every minute, last 30 seconds everything you've got. Your peak reading is your max HR. Set Polar zones from this. No more RPE guessing after today.",
        physio: ["Movement Prep: Ankle hops, A-skip, B-skip, Carioca (3Ã—50ft each, 90s rest). CUE: L ankle control on all landings. SKIP Carioca if groin nerve is active."],
      },
      {
        day: "Friday",
        type: "strength",
        label: "Lateral Chain + Hip Stability",
        sessions: [
          { name: "Adduction plank, long lever â€” 3Ã—45â€“60s. Skip if groin flared Tuesday." },
          { name: "DB 1-leg RDL â€” 3Ã—8 (single 18lb DB, 5s eccentric) â€” LEFT: torso parallel max (FAI). RIGHT: stop before sit-bone stretch." },
          { name: "Stabilization lunge â€” 3Ã—6" },
          { name: "Adductor slide (towel) â€” 3Ã—8. Skip if groin flared Tuesday." },
          { name: "Side lunges â€” 3Ã—6. LEFT: shallower depth (FAI)." },
          { name: "Single leg hip thrust â€” 3Ã—6 (bodyweight, weekly, do it today)" },
          { name: "Single-leg calf raises â€” 3Ã—15 each leg, straight knee + bent knee (bodyweight, 3s eccentric). Baseline: 23 to failure. Wall for balance. Bent-knee is extra important on LEFT â€” soleus acts as dynamic ankle stabilizer." },
        ],
        notes: "Add hip thrust this day. Keep it controlled â€” don't bridge into hyperextension. LEFT RDL depth limit is permanent (FAI) â€” don't test it.",
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Walk/Jog Introduction",
        hrTarget: "Z1â€“2 (easy jog, can talk in full sentences)",
        sessions: [
          { name: "5 min walk warm-up", zone: "Z1" },
          { name: "4Ã—(2 min jog / 2 min walk)", zone: "Z2" },
          { name: "5 min walk cool-down", zone: "Z1" },
        ],
        notes: "First running exposure. H10 on â€” your jog should stay in Z2. Monitor knees (PTFJ) and sit-bone. Stop if either flares. ORTHOTICS IN for all running. Cue 'push ground away' not 'toe off' to protect plantar plate.",
        physio: ["Movement Prep: Ankle hops, A-skip, B-skip, Carioca (3Ã—50ft each, 90s rest) â€” do these BEFORE the jog as warm-up. Keep shoes + orthotics on for all drills. SKIP Carioca if groin nerve is active."],
      },
      {
        day: "Sunday",
        type: "rest",
        label: "Full Rest â€” End of Week 1",
        sessions: [],
        notes: "Daily physio only. Assess: how does the sit-bone feel after a full week? How are the knees? Compare to last Saturday.",
      },
    ],
  });

  // WEEK 2
  weeks.push({
    number: 2,
    phase: "Base + Nerve Recovery",
    focus: "Progress standing intervals, extend jog duration, continue nerve recovery",
    progressionGate: "Sit-bone pain stable or improving. Groin nerve resolved or nearly resolved. Knees tolerated walk/jog without PTFJ flare.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Standing Bike Intervals",
        hrTarget: "Z4â€“5 during sprints",
        sessions: [
          { name: "Warm-up: 5 min standing pedal", zone: "Z2" },
          { name: "10Ã—10s standing sprints / 50s recovery", zone: "Z5" },
          { name: "Cool-down: 5 min easy", zone: "Z1" },
        ],
        notes: "Progressed from 8 to 10 sprints. Full standing throughout. H10 on â€” compare your sprint HR peaks to your max from Thursday's test.",
        physio: ["Movement Prep: Ankle hops, A-skip, B-skip, Carioca. CUE: L ankle control on all landings. SKIP Carioca if groin nerve is still active."],
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain Strength",
        sessions: [
          { name: "Adduction plank, long lever â€” 3Ã—50â€“60s (progress hold time). MONITOR: skip or reduce if groin nerve is still active." },
          { name: "DB 1-leg RDL â€” 3Ã—10 (single 18lb DB, 5s eccentric). LEFT: torso parallel max (FAI). RIGHT: sit-bone limit." },
          { name: "Stabilization lunge â€” 3Ã—6" },
          { name: "Adductor slide â€” 3Ã—8" },
          { name: "Side lunges â€” 3Ã—8 (progressed from 6). LEFT: shallower depth (FAI)." },
        ],
        notes: "Small progressions in reps. LEFT RDL depth limit is permanent â€” torso parallel, no deeper.",
      },
      {
        day: "Wednesday",
        type: "rest",
        label: "Rest + Daily Physio",
        sessions: [],
        notes: "Piriformis and glute release. Consider gentle nerve flossing if physio has shown you how.",
      },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Aerobic Base",
        hrTarget: "Z2",
        sessions: [
          { name: "35 min elliptical or pool at steady conversational pace", zone: "Z2" },
        ],
        notes: "Extend duration by 5 min from last week. Try seated bike briefly (5 min) at end to test sit-bone tolerance. H10 on â€” stay in Z2 throughout.",
        physio: ["Movement Prep drills. SKIP Carioca if groin nerve is still active."],
          { name: "Stabilization lunge â€” 3Ã—6" },
          { name: "Adductor slide â€” 3Ã—8" },
          { name: "Side lunges â€” 3Ã—8. LEFT: shallower depth (FAI)." },
          { name: "Single leg hip thrust â€” 3Ã—6 (bodyweight)" },
          { name: "Single-leg calf raises â€” 3Ã—15 each, straight + bent knee (bodyweight, 3s eccentric)" },
        ],
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Walk/Jog Progression",
        hrTarget: "Z1â€“2",
        sessions: [
          { name: "5 min walk", zone: "Z1" },
          { name: "5Ã—(2 min jog / 90s walk)", zone: "Z2" },
          { name: "5 min walk cool-down", zone: "Z1" },
        ],
        notes: "More intervals, shorter rest. Total jog time: 10 min (up from 8). H10 on â€” your jog should stay in Z2.",
        physio: ["Movement Prep before jog. SKIP Carioca if groin nerve is still active."],
      },
      {
        day: "Sunday",
        type: "rest",
        label: "Full Rest",
        sessions: [],
        notes: "Weekly assessment: sit-bone status, knee response to jogging, overall energy.",
      },
    ],
  });

  // WEEK 3
  weeks.push({
    number: 3,
    phase: "Base + Nerve Recovery",
    focus: "Test seated bike, extend running, introduce longer sprint intervals",
    progressionGate: "Can tolerate 10+ min seated bike. Jog 15 min continuous without PTFJ or sit-bone flare. LEFT hip tolerating RDL/side lunge at parallel depth (FAI stable). Groin nerve resolved. Ready for Phase 2.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Interval Progression",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Warm-up: 5 min", zone: "Z2" },
          { name: "10Ã—10s sprints / 50s recovery (standing)", zone: "Z5" },
          { name: "Rest 3 min, then 3Ã—30s hard efforts / 90s recovery", zone: "Z4" },
          { name: "Cool-down: 5 min", zone: "Z1" },
        ],
        notes: "First introduction of 30s intervals. These build lactate tolerance needed for match play.",
        physio: ["Movement Prep drills. SKIP Carioca if groin nerve is still active."],
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain â€” Progress Load",
        sessions: [
          { name: "Adduction plank â€” 3Ã—60s. MONITOR: skip or reduce if groin nerve is still active." },
          { name: "DB 1-leg RDL â€” 3Ã—10 (single 18lb DB, 5s eccentric â€” progress depth on RIGHT if sit-bone allows. LEFT: torso parallel max, FAI limit)" },
          { name: "Stabilization lunge â€” 3Ã—8 (progressed)" },
          { name: "Adductor slide â€” 3Ã—10" },
          { name: "Side lunges â€” 3Ã—8 with single 18lb DB goblet hold. LEFT: shallower depth (FAI)." },
          { name: "Single-leg calf raises â€” 3Ã—15 each, straight + bent knee (bodyweight, 3s eccentric)" },
        ],
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Seated Bike Test + Aerobic",
        hrTarget: "Z2",
        sessions: [
          { name: "15 min seated bike at Z2 â€” assess sit-bone tolerance", zone: "Z2" },
          { name: "If tolerated: continue to 35 min total", zone: "Z2" },
          { name: "If not tolerated: switch to elliptical for remaining time", zone: "Z2" },
        ],
        notes: "This is the key test. If you can sit for 15+ min, we're on track to use the bike normally going forward.",
        physio: ["Movement Prep drills. SKIP Carioca if groin nerve is still active."],
      },
      {
        day: "Friday",
        type: "strength",
        label: "Lateral Chain + Hip Thrust",
        sessions: [
          { name: "Full strength circuit (same as Tuesday + single leg hip thrust 3Ã—8 bodyweight)" },
          { name: "Single-leg calf raises â€” 3Ã—15 each, straight + bent knee (bodyweight, 3s eccentric)" },
        ],
        notes: "Hip thrust progressed to 8 reps.",
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Continuous Jog Attempt",
        hrTarget: "Z2",
        sessions: [
          { name: "Movement Prep drills as warm-up. SKIP Carioca if groin nerve is still active." },
          { name: "15 min continuous jog at Z2", zone: "Z2" },
          { name: "5 min walk", zone: "Z1" },
          { name: "4Ã—50m strides at 70% effort", zone: "Z3" },
        ],
        notes: "First continuous jog. Stay slow. The strides at the end introduce your legs to faster turnover without full sprinting.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest â€” Phase Gate Assessment", sessions: [], notes: "Check all three gates before moving to Phase 2. If sit-bone still can't handle the bike, extend Phase 1 by a week and adjust." },
    ],
  });

  // WEEK 4
  weeks.push({
    number: 4,
    phase: "Transition to Running",
    focus: "Reintroduce seated bike if tolerated, first running intervals, increase lateral chain demand",
    progressionGate: "Can jog 20 min without issue. Running intervals don't aggravate PTFJ.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Bike Intervals (Seated if tolerated)",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Warm-up: 8 min easy spin", zone: "Z2" },
          { name: "10Ã—10s sprints / 50s recovery", zone: "Z5" },
          { name: "3 min rest" },
          { name: "4Ã—30s hard / 90s recovery", zone: "Z4" },
          { name: "Cool-down: 5 min", zone: "Z1" },
        ],
        notes: "If seated is okay, great. If not, stay standing or use elliptical intervals.",
        physio: ["Movement Prep drills"],
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain Strength",
        sessions: [
          { name: "Adduction plank â€” 3Ã—60s" },
          { name: "DB 1-leg RDL â€” 3Ã—12 (18lb each hand = 36lb total, 5s eccentric). LEFT: torso parallel max (FAI)." },
          { name: "Stabilization lunge â€” 3Ã—8 (single 18lb DB goblet hold)" },
          { name: "Adductor slide â€” 3Ã—10" },
          { name: "Side lunges â€” 3Ã—8 with 18lb DB each hand. LEFT: shallower depth (FAI)." },
        ],
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "First Running Intervals",
        hrTarget: "Z3â€“4",
        sessions: [
          { name: "Movement Prep drills" },
          { name: "10 min jog warm-up", zone: "Z2" },
          { name: "6Ã—100m at 75% effort / walk back recovery", zone: "Z3â€“4" },
          { name: "10 min jog cool-down", zone: "Z2" },
        ],
        notes: "First real running intervals. 75% effort, not sprinting. Focus on smooth mechanics. Monitor PTFJ â€” any lateral knee pain, stop and walk.",
        physio: ["Movement Prep before, stretching after"],
      },
      {
        day: "Friday",
        type: "strength",
        label: "Lateral Chain + Hip Thrust",
        sessions: [
          { name: "Full strength circuit + single leg hip thrust 3Ã—8 (18lb DB on hip)" },
          { name: "Add: single-leg calf raises 3Ã—12 each with 18lb DB â€” straight + bent knee, 3s eccentric. Hold DB in one hand, wall for balance with other." },
        ],
        notes: "Adding calf raises to protect Achilles as running volume increases.",
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Tempo Jog",
        hrTarget: "Z2â€“3",
        sessions: [
          { name: "Movement Prep drills" },
          { name: "20 min continuous jog", zone: "Z2" },
          { name: "5 min at Z3 (comfortably hard)", zone: "Z3" },
          { name: "5 min walk cool-down", zone: "Z1" },
        ],
        notes: "Building toward sustained moderate effort. The 5 min at Z3 simulates a passage of play. After session: 5 min barefoot walking on grass (first barefoot exposure beyond daily physio). Orthotics stay in for all running.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest", sessions: [] },
    ],
  });

  // WEEK 5
  weeks.push({
    number: 5,
    phase: "Transition to Running",
    focus: "Increase running interval intensity, introduce shuttle runs, continue lateral chain progression",
    progressionGate: "Can complete 6Ã—200m without PTFJ flare. HR recovers to Z2 within 90s after sprints.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Bike Intervals",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Warm-up: 8 min", zone: "Z2" },
          { name: "6Ã—30s hard / 60s recovery", zone: "Z4â€“5" },
          { name: "3 min rest" },
          { name: "2Ã—3 min at 85% max HR / 2 min recovery", zone: "Z4" },
          { name: "Cool-down: 5 min", zone: "Z1" },
        ],
        notes: "First 3-minute efforts â€” these build the sustained high-output capacity for match play.",
        physio: ["Movement Prep drills"],
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain â€” Increase Challenge",
        sessions: [
          { name: "Adduction plank â€” 3Ã—60s (add leg lift if able)" },
          { name: "DB 1-leg RDL â€” 3Ã—12 (18lb each hand = 36lb total, 5s eccentric â€” home max). LEFT: torso parallel max (FAI)." },
          { name: "Stabilization lunge â€” 3Ã—8 (single 18lb DB goblet hold)" },
          { name: "Adductor slide â€” 3Ã—12" },
          { name: "Side lunges â€” 3Ã—10 with 18lb DB each hand (home max). LEFT: shallower depth (FAI)." },
          { name: "Single-leg calf raises â€” 3Ã—12 each with 18lb DB, straight + bent knee, 3s eccentric" },
        ],
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Running Intervals â€” 200m",
        hrTarget: "Z4",
        sessions: [
          { name: "Movement Prep drills" },
          { name: "10 min jog warm-up", zone: "Z2" },
          { name: "6Ã—200m at 80% / jog back recovery", zone: "Z4" },
          { name: "5 min walk, then 4Ã—short shuttle (5-10-15m)", zone: "Z4" },
          { name: "10 min jog cool-down", zone: "Z2" },
        ],
        notes: "First shuttle runs. These train the deceleration and direction change that kills you in matches. Start conservatively with the PTFJ â€” no sharp cutting yet, just forward/backward shuttles.",
      },
      {
        day: "Friday",
        type: "strength",
        label: "Full Strength + Hip Thrust",
        sessions: [
          { name: "Full circuit + single leg hip thrust 3Ã—8 (18lb DB on hip)" },
          { name: "Single-leg calf raises 3Ã—12 each with 18lb DB, 3s eccentric (straight + bent knee)" },
        ],
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Tempo Run",
        hrTarget: "Z2â€“3",
        sessions: [
          { name: "Movement Prep drills" },
          { name: "25 min continuous run: 15 min Z2, 8 min Z3, 2 min Z2", zone: "Z2â€“3" },
          { name: "6Ã—50m strides at 80%", zone: "Z3â€“4" },
        ],
        notes: "Building sustained running capacity. The Z3 block should feel like match-pace jogging. Post-session: 5 min barefoot grass walk. Notice how your big toe engages differently without orthotics.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest", sessions: [] },
    ],
  });

  // WEEK 6
  weeks.push({
    number: 6,
    phase: "Transition to Running",
    focus: "Final transition week. Running becomes primary. Introduce lateral shuttles if PTFJ allows.",
    progressionGate: "Can run 30 min with tempo blocks. Shuttles don't aggravate PTFJ. Ready for soccer-specific work.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Bike â€” Aerobic + Intervals",
        hrTarget: "Z2â€“4",
        sessions: [
          { name: "20 min Z2 seated (active recovery)", zone: "Z2" },
          { name: "4Ã—30s hard / 60s recovery", zone: "Z4" },
          { name: "10 min Z2 cool-down", zone: "Z2" },
        ],
        notes: "Bike is now a secondary tool. Lighter session to recover from weekend.",
        physio: ["Movement Prep drills"],
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain + Power Introduction",
        sessions: [
          { name: "Full strength circuit (progress all exercises)" },
          { name: "Add: lateral band walks 3Ã—15 each direction" },
          { name: "Add: box step-ups 3Ã—8 each leg (bodyweight)" },
          { name: "Single-leg calf raises 3Ã—12 each with 18lb DB, 3s eccentric (straight + bent knee)" },
        ],
        notes: "Introducing lateral band walks and step-ups for more dynamic lateral chain work.",
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Running Intervals + Lateral Shuttles",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Movement Prep drills" },
          { name: "10 min jog warm-up", zone: "Z2" },
          { name: "8Ã—200m at 80% / jog back recovery", zone: "Z4" },
          { name: "Rest 3 min" },
          { name: "6Ã—lateral shuttle (5m each way) â€” ONLY if PTFJ allows. L ankle: decelerate with control, don't let it collapse inward on direction change.", zone: "Z4" },
          { name: "8 min jog cool-down", zone: "Z2" },
        ],
        notes: "First lateral shuttles. Low intensity. If any PTFJ pain, remove these and stick to forward/back shuttles.",
      },
      {
        day: "Friday",
        type: "strength",
        label: "Strength + Hip Thrust",
        sessions: [{ name: "Full circuit + hip thrust 3Ã—10 (18lb DB on hip) + single-leg calf raises 3Ã—12 each with 18lb DB, 3s eccentric" }],
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "30-Min Tempo Run",
        hrTarget: "Z2â€“3",
        sessions: [
          { name: "Movement Prep" },
          { name: "30 min: 10 min Z2, 12 min Z3, 5 min Z2, 3 min Z4", zone: "Z2â€“4" },
          { name: "6Ã—50m strides" },
        ],
        notes: "Longest run yet. The 3-min Z4 block at the end simulates pressing hard when already fatigued.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest â€” Phase Gate Assessment", sessions: [], notes: "Assess: ready for soccer-specific work? Check PTFJ, sit-bone, and overall fatigue." },
    ],
  });

  // WEEK 7
  weeks.push({
    number: 7,
    phase: "Soccer-Specific",
    focus: "Match simulation introduction, agility work, pickup games if available",
    progressionGate: "Can sustain 30 min of mixed-intensity running. Lateral movements tolerated. LEFT hip stable under plyometric landing (FAI not aggravated by split squat jumps).",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Match Simulation Lite",
        hrTarget: "Z2â€“5 (mixed)",
        sessions: [
          { name: "Movement Prep" },
          { name: "2Ã—15 min blocks:", zone: "mixed" },
          { name: "  â€” Jog 2â€“3 min at Z2", zone: "Z2" },
          { name: "  â€” Sprint 10â€“15s every 2â€“3 min", zone: "Z5" },
          { name: "  â€” Walk 30s recovery after each sprint", zone: "Z1" },
          { name: "3 min rest between blocks" },
        ],
        notes: "This is the start of match simulation. The random sprint pattern mimics game demands.",
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain + Power",
        sessions: [
          { name: "GYM: Full strength circuit â€” heavier DBs (30lb+) for RDLs, lunges, side lunges. Progress loads." },
          { name: "Lateral band walks 3Ã—15" },
          { name: "Box step-ups 3Ã—10 (18lb DB each hand)" },
          { name: "Add: split squat jumps 3Ã—6 (low height, controlled landing) â€” SKIP if PTFJ reacts. Land softly through midfoot. Monitor L ankle stability on every landing â€” if it rolls or wobbles, reduce height. LEFT leg forward: don't drop into deep hip flexion on landing (FAI)." },
          { name: "GYM: Smith machine calf raises â€” 3Ã—8â€“10, heavy (60lb+ working up), 4s eccentric, straight + bent knee. This is where tendon resilience gets built." },
        ],
        notes: "Introducing plyometric element with split squat jumps. These must be pain-free. GYM DAY â€” Smith machine for heavy calf work. Use the gym for heavier lunges and RDLs too while you're there.",
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Agility + Sprint Work",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "10 min jog warm-up", zone: "Z2" },
          { name: "10Ã—40m sprints / walk back recovery", zone: "Z5" },
          { name: "Rest 3 min" },
          { name: "Agility circuit: 4Ã—(forward sprint 10m, lateral shuffle 5m, backpedal 10m, sprint 10m). L ankle: control every direction change.", zone: "Z4â€“5" },
          { name: "8 min jog cool-down", zone: "Z2" },
        ],
        notes: "Full multi-directional work. This is where PTFJ management matters most. Lateral shuffle, not cutting. Keep orthotics in. Consider taping or a lightweight brace on L ankle for agility work from this week onward â€” fatigue + hypermobility + direction changes is the highest ankle-roll risk scenario. If barefoot grass walking has been going well, try Movement Prep drills barefoot on grass as warm-up (not the sprints).",
      },
      {
        day: "Friday",
        type: "conditioning",
        label: "Active Recovery Bike",
        hrTarget: "Z1â€“2",
        sessions: [{ name: "25 min easy bike spin", zone: "Z1â€“2" }],
        notes: "Recovery day before weekend push. Keep it genuinely easy.",
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Pickup Game or Long Match Sim",
        hrTarget: "Z2â€“5",
        sessions: [
          { name: "Option A: Pickup game (aim for 45â€“60 min of play)" },
          { name: "Option B: Solo match sim â€” 2Ã—20 min with mixed sprints throughout, 5 min half-time" },
        ],
        notes: "If you can find a pickup game, this is the single best thing you can do for match fitness. The H10 data from a real game will be your benchmark. L ankle: tape or brace for all game play from now on.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest", sessions: [] },
    ],
  });

  // WEEK 8
  weeks.push({
    number: 8,
    phase: "Soccer-Specific",
    focus: "Extend match simulation duration, increase sprint volume, progress agility complexity",
    progressionGate: "Can sustain 2Ã—20 min match sim. Average HR in game/sim at 75â€“80% max.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Match Simulation â€” Extended",
        hrTarget: "Z2â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "2Ã—20 min blocks: jog with sprint bursts every 2 min (10â€“20s)", zone: "mixed" },
          { name: "5 min half-time walk" },
        ],
        notes: "Progression: longer blocks, more frequent sprints.",
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Lateral Chain + Power",
        sessions: [
          { name: "GYM: Full strength circuit â€” heavier loads than home. Progress RDLs, lunges, side lunges with heavier DBs or barbell." },
          { name: "Split squat jumps 3Ã—8 (if tolerated) â€” monitor L ankle control on landing. LEFT leg forward: don't drop into deep hip flexion (FAI)." },
          { name: "Lateral bounds 3Ã—6 each side (low, controlled) â€” land midfoot. L ankle: focus on sticking the landing, no wobble. These are the highest ankle-roll risk exercise in the program." },
          { name: "GYM: Smith machine calf raises â€” 3Ã—8â€“10, heavy, 4s eccentric (straight + bent knee). Progress weight from Week 7." },
        ],
        notes: "Adding lateral bounds â€” a key soccer movement pattern. Stay low, land soft. GYM DAY for heavy calf work.",
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Repeated Sprint Ability",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "10 min jog", zone: "Z2" },
          { name: "3 sets of: 6Ã—20m sprint / 20s rest between sprints / 3 min between sets", zone: "Z5" },
          { name: "Agility circuit Ã— 6 reps" },
          { name: "10 min jog cool-down", zone: "Z2" },
        ],
        notes: "RSA training. This is the most match-specific conditioning you can do. The short rest between sprints simulates game situations where you sprint, barely recover, then sprint again. L ankle: if you feel it getting sloppy when fatigued, stop the set early. A rolled ankle now kills the program.",
      },
      {
        day: "Friday",
        type: "conditioning",
        label: "Active Recovery",
        hrTarget: "Z1â€“2",
        sessions: [{ name: "25 min easy bike or walk", zone: "Z1â€“2" }],
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Pickup Game or Match Sim",
        hrTarget: "Z2â€“5",
        sessions: [
          { name: "60â€“75 min of game play or 2Ã—25 min solo match sim" },
        ],
        notes: "Push the duration. Compare this week's H10 data to last week's.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest", sessions: [] },
    ],
  });

  // WEEK 9
  weeks.push({
    number: 9,
    phase: "Soccer-Specific",
    focus: "Peak training load week. Longest match simulation. Maximum intensity.",
    progressionGate: "Can sustain 2Ã—30 min match sim at 80%+ average HR. Ready for match prep phase.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Match Simulation â€” Peak",
        hrTarget: "Z2â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "2Ã—30 min: jog with sprint bursts every 90sâ€“2 min", zone: "mixed" },
          { name: "5 min half-time" },
        ],
        notes: "This is the hardest conditioning session of the program. 60 min of mixed-intensity work.",
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Maintenance Strength",
        sessions: [
          { name: "GYM: Full strength circuit â€” maintain Week 8 loads on all exercises, don't increase" },
          { name: "Plyometrics: split squat jumps + lateral bounds (3Ã—8 each). LEFT leg forward on split squats: limit depth (FAI)." },
          { name: "GYM: Smith machine calf raises â€” maintain Week 8 heavy loads, 3Ã—8â€“10, 4s eccentric. Don't increase." },
        ],
        notes: "Strength is now maintenance mode. The priority is conditioning.",
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Peak RSA Session",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "10 min jog", zone: "Z2" },
          { name: "4 sets of: 6Ã—20m sprint / 20s rest / 3 min between sets", zone: "Z5" },
          { name: "Agility circuit Ã— 8 reps" },
          { name: "8 min jog cool-down", zone: "Z2" },
        ],
        notes: "Peak sprint volume. 4 sets instead of 3. If you feel crushed by set 3, drop set 4. L ankle: if control deteriorates in later sets, stop agility work and jog out the rest. Tape/brace on for all agility.",
      },
      {
        day: "Friday",
        type: "conditioning",
        label: "Active Recovery",
        hrTarget: "Z1",
        sessions: [{ name: "20 min very easy bike or walk", zone: "Z1" }],
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Pickup Game â€” Full Duration",
        hrTarget: "Z2â€“5",
        sessions: [
          { name: "Full pickup game aiming for 75â€“90 min" },
          { name: "Or 2Ã—35 min solo match sim" },
        ],
        notes: "Try to play as close to full game duration as possible. This is your fitness test.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest", sessions: [] },
    ],
  });

  // WEEK 10
  weeks.push({
    number: 10,
    phase: "Match Prep & Taper",
    focus: "Reduce volume, maintain intensity, sharpen for match day",
    progressionGate: "Feeling fresh, not fatigued. Resting HR stable. Confidence in 90-min capacity.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Reduced Match Sim",
        hrTarget: "Z2â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "2Ã—20 min match sim (reduced from 2Ã—30)", zone: "mixed" },
        ],
        notes: "Volume drops but intensity stays. You should feel faster and sharper.",
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Maintenance Strength (Reduced)",
        sessions: [
          { name: "HOME: Abbreviated strength circuit with 18lb DBs â€” 2 sets instead of 3. Maintain, don't load heavy." },
          { name: "Plyometrics: 2Ã—6 each. LEFT leg forward on split squats: limit depth (FAI)." },
          { name: "Single-leg calf raises 3Ã—10 each with 36lb (both DBs combined), deficit off step, 4s eccentric. Maintenance." },
        ],
        notes: "Keeping the movement patterns alive without creating fatigue.",
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Sharp Sprints",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "Movement Prep" },
          { name: "10 min jog", zone: "Z2" },
          { name: "2 sets of: 6Ã—20m sprint / 30s rest / 3 min between sets", zone: "Z5" },
          { name: "Light agility circuit Ã— 4" },
          { name: "10 min jog", zone: "Z2" },
        ],
        notes: "Reduced sets, full recovery. Maintaining speed without accumulating fatigue.",
      },
      {
        day: "Friday",
        type: "rest",
        label: "Rest or Very Light Movement",
        sessions: [{ name: "Optional: 15 min walk", zone: "Z1" }],
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Pickup Game",
        hrTarget: "Z2â€“5",
        sessions: [{ name: "45â€“60 min game â€” don't go all out, save something" }],
        notes: "Play at 85%. This is a dress rehearsal, not the performance.",
      },
      { day: "Sunday", type: "rest", label: "Full Rest", sessions: [] },
    ],
  });

  // WEEK 11
  weeks.push({
    number: 11,
    phase: "Match Prep & Taper",
    focus: "Final taper. Keep legs fresh. Stay sharp without heavy load.",
    progressionGate: "YOU'RE MATCH READY. Trust the work you've done.",
    days: [
      {
        day: "Monday",
        type: "conditioning",
        label: "Light Match Sim",
        hrTarget: "Z2â€“4",
        sessions: [
          { name: "Movement Prep" },
          { name: "15 min match sim at moderate intensity", zone: "Z2â€“4" },
          { name: "6Ã—40m strides at 80%", zone: "Z3â€“4" },
        ],
        notes: "Keep the engine ticking. Low volume, moderate intensity.",
      },
      {
        day: "Tuesday",
        type: "strength",
        label: "Light Activation",
        sessions: [
          { name: "HOME: Abbreviated circuit with 18lb DBs â€” 2 sets, light. Activation only." },
          { name: "Single-leg calf raises 2Ã—10 each with 18lb DB, 3s eccentric. Light maintenance only." },
          { name: "Focus on activation, not loading" },
        ],
      },
      { day: "Wednesday", type: "rest", label: "Rest + Daily Physio", sessions: [] },
      {
        day: "Thursday",
        type: "conditioning",
        label: "Sharpening Session",
        hrTarget: "Z4â€“5",
        sessions: [
          { name: "10 min jog", zone: "Z2" },
          { name: "6Ã—20m sprints with full recovery", zone: "Z5" },
          { name: "Light agility Ã— 4 reps" },
          { name: "10 min jog", zone: "Z2" },
        ],
        notes: "Last hard session. Short, sharp. You should feel fast.",
      },
      {
        day: "Friday",
        type: "rest",
        label: "Rest",
        sessions: [],
        notes: "Hydrate, eat well, sleep 8+ hours.",
      },
      {
        day: "Saturday",
        type: "conditioning",
        label: "Pre-Match Activation",
        sessions: [
          { name: "Movement Prep drills" },
          { name: "10 min easy jog", zone: "Z2" },
          { name: "4Ã—30m strides", zone: "Z3" },
          { name: "Dynamic stretching" },
        ],
        notes: "Just enough to feel loose and ready. If match is Sunday, this is your activation day.",
      },
      {
        day: "Sunday",
        type: "match",
        label: "âš½ MATCH DAY",
        sessions: [
          { name: "Full warm-up with Movement Prep drills" },
          { name: "Play the full 90 minutes" },
          { name: "Wear your H10 â€” this is the data set you've been building toward" },
        ],
        notes: "Trust the 11 weeks. Manage your energy â€” don't sprint everything in the first 15 min. The fitness is there. Orthotics in your boots. L ankle taped or braced. Make sure you've tested this boot+orthotic+tape combo in training before today.",
      },
    ],
  });

  return weeks;
}

    const PROGRAM_DATA = {
      meta: {
        title: "Full 90",
        subtitle: "Soccer conditioning for a 45-year-old with PTFJ, lateral chain weakness, ischial tuberosity nerve flare-up, plantar plate tear (R foot, orthotics) & left ankle hypermobility",
        phases: [
          { name: "Base + Nerve Recovery", weeks: [1, 2, 3], color: "#2d6a4f" },
          { name: "Transition to Running", weeks: [4, 5, 6], color: "#e07a2f" },
          { name: "Soccer-Specific", weeks: [7, 8, 9], color: "#c2255c" },
          { name: "Match Prep & Taper", weeks: [10, 11], color: "#364fc7" },
        ],
      },
      hrZones: [
        { zone: 1, name: "Recovery", pct: "50â€“60%", desc: "Very easy, walking pace" },
        { zone: 2, name: "Aerobic Base", pct: "60â€“70%", desc: "Conversational, sustainable" },
        { zone: 3, name: "Tempo", pct: "70â€“80%", desc: "Comfortably hard, breathing heavier" },
        { zone: 4, name: "Threshold", pct: "80â€“90%", desc: "Hard, short sentences only" },
        { zone: 5, name: "Max", pct: "90â€“100%", desc: "All-out sprint effort" },
      ],
      dailyPhysio: [
        { name: "Hollow Hold", detail: "3Ã—30s â€” do barefoot on firm surface", icon: "ðŸ”„" },
        { name: "Piriformis Release (ball)", detail: "6â€“8 passes each side", icon: "ðŸŽ¾" },
        { name: "Glutes Release", detail: "3Ã—30s, do 3x throughout the day", icon: "ðŸ‘" },
        { name: "Short Foot Exercise", detail: "3Ã—10 holds â€” barefoot, activate arch without curling toes", icon: "ðŸ¦¶" },
        { name: "Big Toe Press-Downs", detail: "3Ã—10 â€” press big toe down/lift others, then reverse. Rebuilds windlass mechanism", icon: "ðŸ‘£" },
        { name: "Towel Scrunches", detail: "3Ã—30s each foot â€” intrinsic foot strengthening", icon: "ðŸ§¶" },
        { name: "Single-Leg Balance (both ankles)", detail: "3Ã—30s each leg, eyes CLOSED. L = hypermobility control. R = stability around plantar plate. Bare feet on firm surface.", icon: "âš–ï¸" },
        { name: "Ankle Alphabet Tracing (both)", detail: "Trace Aâ€“Z with each foot in the air. L builds proprioceptive control. R rebuilds active ROM around orthotics.", icon: "ðŸ”¤" },
        { name: "Banded Ankle Dorsiflexion (both)", detail: "Light band around forefoot, 3Ã—10 each side, slow controlled dorsiflexion. Builds active control at end range.", icon: "ðŸ”—" },
      ],
      weeks: generateWeeks(),
    };

    function getPhaseForWeek(weekNum) {
      return PROGRAM_DATA.meta.phases.find((p) => p.weeks.includes(weekNum));
    }

    const typeColors = {
      conditioning: { bg: "#14532d", text: "#bbf7d0", badge: "#22c55e" },
      strength: { bg: "#4a1d96", text: "#ddd6fe", badge: "#a78bfa" },
      rest: { bg: "#1e293b", text: "#94a3b8", badge: "#475569" },
      match: { bg: "#7c2d12", text: "#fed7aa", badge: "#fb923c" },
    };

    const Storage = {
      key: "full-90-tracker",
      load() {
        try {
          const raw = localStorage.getItem(this.key);
          return raw ? JSON.parse(raw) : {};
        } catch { return {}; }
      },
      save(data) {
        try { localStorage.setItem(this.key, JSON.stringify(data)); }
        catch(e) { console.error("Save failed:", e); }
      },
    };

    function App() {
      const [selectedWeek, setSelectedWeek] = useState(1);
      const [expandedDay, setExpandedDay] = useState(null);
      const [completions, setCompletions] = useState({});
      const [notes, setNotes] = useState({});
      const [view, setView] = useState("program");

      useEffect(() => {
        const data = Storage.load();
        if (data.completions) setCompletions(data.completions);
        if (data.notes) setNotes(data.notes);
      }, []);

      const persist = useCallback((newC, newN) => {
        Storage.save({ completions: newC || completions, notes: newN || notes });
      }, [completions, notes]);

      const toggleComplete = (weekNum, dayIdx) => {
        const key = `${weekNum}-${dayIdx}`;
        const next = { ...completions, [key]: !completions[key] };
        setCompletions(next);
        persist(next, notes);
      };

      const updateNote = (weekNum, dayIdx, text) => {
        const key = `${weekNum}-${dayIdx}`;
        const next = { ...notes, [key]: text };
        setNotes(next);
        persist(completions, next);
      };

      const weekData = PROGRAM_DATA.weeks.find((w) => w.number === selectedWeek);
      const phase = getPhaseForWeek(selectedWeek);
      const completedDays = weekData ? weekData.days.filter((_, i) => completions[`${selectedWeek}-${i}`]).length : 0;

      return (
        <div className="app-body" style={{ background: "#0a0a0a", minHeight: "100vh", color: "#e2e8f0", fontFamily: "'DM Sans', system-ui, sans-serif", padding: "0 0 60px 0" }}>
          {/* Header */}
          <div className="app-header" style={{ background: "linear-gradient(135deg, #0f172a 0%, #1a1a2e 50%, #16213e 100%)", padding: "28px 20px 20px", borderBottom: "1px solid #1e293b" }}>
            <div style={{ maxWidth: 600, margin: "0 auto" }}>
              <div style={{ fontSize: 11, fontFamily: "'DM Mono', monospace", color: phase?.color || "#94a3b8", textTransform: "uppercase", letterSpacing: 2, marginBottom: 6 }}>
                11-WEEK PROGRAM
              </div>
              <h1 style={{ fontSize: 26, fontWeight: 700, margin: "0 0 4px", background: "linear-gradient(90deg, #f8fafc, #94a3b8)", WebkitBackgroundClip: "text", WebkitTextFillColor: "transparent" }}>
                Full 90
              </h1>
              <p style={{ fontSize: 12, color: "#64748b", margin: 0, lineHeight: 1.4 }}>
                Adapted for PTFJ Â· lateral chain rehab Â· ischial tuberosity Â· plantar plate (R) Â· ankle hypermobility (L)
              </p>
            </div>
          </div>

          {/* Tabs */}
          <div style={{ display: "flex", gap: 0, maxWidth: 600, margin: "0 auto", borderBottom: "1px solid #1e293b", background: "#0f1219" }}>
            {[{ id: "program", label: "Program" }, { id: "zones", label: "HR Zones" }, { id: "daily", label: "Daily Physio" }].map((tab) => (
              <button key={tab.id} onClick={() => setView(tab.id)} style={{ flex: 1, padding: "12px 8px", border: "none", background: view === tab.id ? "#1e293b" : "transparent", color: view === tab.id ? "#f8fafc" : "#64748b", fontSize: 13, fontWeight: 600, cursor: "pointer", borderBottom: view === tab.id ? `2px solid ${phase?.color || "#64748b"}` : "2px solid transparent", fontFamily: "'DM Sans', system-ui", transition: "all 0.2s" }}>
                {tab.label}
              </button>
            ))}
          </div>

          <div style={{ maxWidth: 600, margin: "0 auto", padding: "0 16px" }}>
            {/* HR Zones */}
            {view === "zones" && (
              <div style={{ paddingTop: 20 }}>
                <h2 style={{ fontSize: 18, fontWeight: 700, marginBottom: 4 }}>Heart Rate Zones</h2>
                <p style={{ fontSize: 12, color: "#64748b", marginBottom: 16 }}>Do a 4-min all-out bike effort in Week 1 to find your actual max HR. Set zones from that number.</p>
                {PROGRAM_DATA.hrZones.map((z) => {
                  const zc = ["#22c55e", "#84cc16", "#eab308", "#f97316", "#ef4444"];
                  return (
                    <div key={z.zone} style={{ display: "flex", alignItems: "center", gap: 12, padding: "12px 14px", marginBottom: 8, borderRadius: 10, background: "#111827", border: "1px solid #1e293b" }}>
                      <div style={{ width: 40, height: 40, borderRadius: 8, background: zc[z.zone-1] + "22", display: "flex", alignItems: "center", justifyContent: "center", fontSize: 16, fontWeight: 700, color: zc[z.zone-1], fontFamily: "'DM Mono', monospace" }}>Z{z.zone}</div>
                      <div style={{ flex: 1 }}>
                        <div style={{ fontSize: 14, fontWeight: 600 }}>{z.name}</div>
                        <div style={{ fontSize: 12, color: "#94a3b8" }}>{z.pct} of max HR</div>
                        <div style={{ fontSize: 11, color: "#64748b", marginTop: 2 }}>{z.desc}</div>
                      </div>
                    </div>
                  );
                })}
                <div style={{ marginTop: 16, padding: 14, borderRadius: 10, background: "#0f1a14", border: "1px solid #16653422" }}>
                  <p style={{ fontSize: 12, color: "#4ade80", margin: 0, fontWeight: 600 }}>ðŸ“± Use RPE until Thursday Week 1 when your H10 arrives</p>
                  <div style={{ fontSize: 12, color: "#6b9e7e", margin: "6px 0 0", lineHeight: 1.8 }}>
                    <div>RPE 2â€“3 â†’ Walking, easy conversation</div>
                    <div>RPE 4â€“5 â†’ Light jog, full sentences</div>
                    <div>RPE 6â€“7 â†’ Tempo, short phrases only</div>
                    <div>RPE 8â€“9 â†’ Hard sprint, can barely talk</div>
                    <div>RPE 10 â†’ Absolute max, no talking</div>
                  </div>
                </div>
                <div style={{ marginTop: 16, padding: 14, borderRadius: 10, background: "#1a1207", border: "1px solid #854d0e33" }}>
                  <p style={{ fontSize: 12, color: "#fbbf24", margin: 0, fontWeight: 600 }}>âš ï¸ Sit-bone note</p>
                  <p style={{ fontSize: 12, color: "#a3865a", margin: "4px 0 0" }}>If you find your max HR via the bike test, stay standing the entire time. Alternatively, use a hard hill run or elliptical sprint.</p>
                </div>
              </div>
            )}

            {/* Daily Physio */}
            {view === "daily" && (
              <div style={{ paddingTop: 20 }}>
                <h2 style={{ fontSize: 18, fontWeight: 700, marginBottom: 4 }}>Daily Non-Negotiables</h2>
                <p style={{ fontSize: 12, color: "#64748b", marginBottom: 16 }}>These happen every single day, including rest days. No exceptions.</p>
                {PROGRAM_DATA.dailyPhysio.map((ex, i) => (
                  <div key={i} style={{ padding: "16px", marginBottom: 10, borderRadius: 12, background: "#111827", border: "1px solid #1e293b" }}>
                    <div style={{ display: "flex", alignItems: "center", gap: 10 }}>
                      <span style={{ fontSize: 24 }}>{ex.icon}</span>
                      <div>
                        <div style={{ fontSize: 15, fontWeight: 600 }}>{ex.name}</div>
                        <div style={{ fontSize: 13, color: "#94a3b8" }}>{ex.detail}</div>
                      </div>
                    </div>
                  </div>
                ))}
                <div style={{ marginTop: 16, padding: 14, borderRadius: 10, background: "#0f1a14", border: "1px solid #16653422" }}>
                  <p style={{ fontSize: 13, color: "#4ade80", margin: 0, fontWeight: 600 }}>From your physio program + foot rehab + ankle stability</p>
                  <p style={{ fontSize: 12, color: "#6b9e7e", margin: "6px 0 0" }}>
                    Piriformis release is critical for ischial tuberosity recovery. Glutes release 3x/day maintains tissue quality around the nerve. Hollow hold builds core stability that protects everything else. The foot exercises (short foot, big toe press-downs, towel scrunches) rebuild intrinsic foot strength that your orthotics suppress. The ankle work (single-leg balance, alphabet tracing, banded dorsiflexion) is bilateral â€” L ankle for hypermobility control, R ankle for stability around the plantar plate and orthotics. Do foot and ankle work barefoot at home.
                  </p>
                </div>
              </div>
            )}

            {/* Program View */}
            {view === "program" && (
              <>
                {/* Phase indicator */}
                <div style={{ display: "flex", gap: 4, padding: "16px 0 8px" }}>
                  {PROGRAM_DATA.meta.phases.map((p) => (
                    <div key={p.name} style={{ flex: p.weeks.length, textAlign: "center" }}>
                      <div style={{ height: 4, borderRadius: 2, marginBottom: 6, background: p.weeks.includes(selectedWeek) ? p.color : p.color + "33", transition: "background 0.3s" }} />
                      <div style={{ fontSize: 9, fontFamily: "'DM Mono', monospace", textTransform: "uppercase", letterSpacing: 1, color: p.weeks.includes(selectedWeek) ? p.color : "#475569" }}>{p.name}</div>
                    </div>
                  ))}
                </div>

                {/* Week selector */}
                <div style={{ display: "flex", gap: 4, padding: "12px 0", overflowX: "auto", WebkitOverflowScrolling: "touch" }}>
                  {Array.from({ length: 11 }, (_, i) => i + 1).map((wk) => {
                    const wp = getPhaseForWeek(wk);
                    const isSel = selectedWeek === wk;
                    const wd = PROGRAM_DATA.weeks.find((w) => w.number === wk);
                    const wc = wd ? wd.days.filter((_, di) => completions[`${wk}-${di}`]).length : 0;
                    const allDone = wd && wc === wd.days.length;
                    return (
                      <button key={wk} onClick={() => { setSelectedWeek(wk); setExpandedDay(null); }} style={{ minWidth: 44, height: 44, borderRadius: 10, border: "none", background: isSel ? wp?.color || "#334155" : "#111827", color: isSel ? "#fff" : "#94a3b8", fontSize: 14, fontWeight: 700, cursor: "pointer", position: "relative", transition: "all 0.2s", outline: isSel ? `2px solid ${wp?.color}44` : "none", outlineOffset: 2, fontFamily: "'DM Sans', system-ui" }}>
                        {wk}
                        {allDone && <div style={{ position: "absolute", top: -3, right: -3, width: 14, height: 14, borderRadius: 7, background: "#22c55e", fontSize: 9, lineHeight: "14px", textAlign: "center", color: "#fff" }}>âœ“</div>}
                      </button>
                    );
                  })}
                </div>

                {/* Week detail */}
                {weekData && (
                  <>
                    <div style={{ padding: "14px 16px", borderRadius: 12, marginBottom: 12, background: `${phase?.color}11`, border: `1px solid ${phase?.color}33` }}>
                      <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 6 }}>
                        <h2 style={{ fontSize: 18, fontWeight: 700, margin: 0 }}>
                          Week {weekData.number}
                          <span style={{ fontSize: 12, fontWeight: 400, color: "#64748b", marginLeft: 8 }}>
                            {formatDate(getDateForDay(weekData.number, 0))} â€“ {formatDate(getDateForDay(weekData.number, weekData.days.length - 1))}
                          </span>
                        </h2>
                        <span style={{ fontSize: 12, fontFamily: "'DM Mono', monospace", color: phase?.color, fontWeight: 500 }}>{completedDays}/{weekData.days.length} days</span>
                      </div>
                      <p style={{ fontSize: 13, color: "#94a3b8", margin: "0 0 8px" }}>{weekData.focus}</p>
                      <div style={{ fontSize: 11, color: "#f59e0b", fontFamily: "'DM Mono', monospace", padding: "6px 10px", background: "#1a160a", borderRadius: 6 }}>
                        ðŸš¦ Gate: {weekData.progressionGate}
                      </div>
                    </div>

                    {/* Days */}
                    {weekData.days.map((day, dayIdx) => {
                      const isExpanded = expandedDay === dayIdx;
                      const isComplete = completions[`${selectedWeek}-${dayIdx}`];
                      const tc = typeColors[day.type] || typeColors.rest;
                      const noteKey = `${selectedWeek}-${dayIdx}`;

                      return (
                        <div key={dayIdx} style={{ marginBottom: 8, borderRadius: 12, overflow: "hidden", border: `1px solid ${isComplete ? "#22c55e33" : "#1e293b"}`, background: isComplete ? "#0a1f0f" : "#111827", transition: "all 0.2s" }}>
                          <div onClick={() => setExpandedDay(isExpanded ? null : dayIdx)} style={{ display: "flex", alignItems: "center", gap: 10, padding: "12px 14px", cursor: "pointer" }}>
                            <div onClick={(e) => { e.stopPropagation(); toggleComplete(selectedWeek, dayIdx); }} style={{ width: 24, height: 24, borderRadius: 6, border: isComplete ? "2px solid #22c55e" : "2px solid #334155", background: isComplete ? "#22c55e" : "transparent", display: "flex", alignItems: "center", justifyContent: "center", cursor: "pointer", flexShrink: 0, transition: "all 0.2s", fontSize: 14, color: "#fff" }}>
                              {isComplete ? "âœ“" : ""}
                            </div>
                            <div style={{ flex: 1, minWidth: 0 }}>
                              <div style={{ display: "flex", alignItems: "center", gap: 8 }}>
                                <span style={{ fontSize: 12, fontFamily: "'DM Mono', monospace", color: "#64748b", minWidth: 28 }}>{day.day.slice(0,3)}</span>
                                <span style={{ fontSize: 10, fontFamily: "'DM Mono', monospace", color: "#475569" }}>{formatDate(getDateForDay(selectedWeek, dayIdx))}</span>
                                <span style={{ fontSize: 10, padding: "2px 8px", borderRadius: 4, background: tc.bg, color: tc.badge, fontWeight: 600, textTransform: "uppercase", letterSpacing: 0.5 }}>{day.type}</span>
                              </div>
                              <div style={{ fontSize: 14, fontWeight: 600, marginTop: 2, color: isComplete ? "#6ee7b7" : "#e2e8f0", textDecoration: isComplete ? "line-through" : "none", opacity: isComplete ? 0.7 : 1 }}>{day.label}</div>
                            </div>
                            <div style={{ fontSize: 18, color: "#475569", transform: isExpanded ? "rotate(180deg)" : "rotate(0)", transition: "transform 0.2s" }}>â–¾</div>
                          </div>

                          {isExpanded && (
                            <div style={{ padding: "0 14px 14px", borderTop: "1px solid #1e293b" }}>
                              {day.hrTarget && (
                                <div style={{ display: "inline-block", margin: "10px 0 6px", fontSize: 11, fontFamily: "'DM Mono', monospace", padding: "3px 10px", borderRadius: 4, background: "#ef444422", color: "#fca5a5" }}>â™¥ Target: {day.hrTarget}</div>
                              )}
                              {day.sessions.length > 0 && (
                                <div style={{ marginTop: 8 }}>
                                  {day.sessions.map((s, si) => (
                                    <div key={si} style={{ display: "flex", gap: 8, padding: "6px 0", borderBottom: si < day.sessions.length - 1 ? "1px solid #1e293b22" : "none" }}>
                                      <span style={{ color: "#475569", fontSize: 11, marginTop: 2, fontFamily: "'DM Mono', monospace" }}>{String(si+1).padStart(2,"0")}</span>
                                      <div style={{ flex: 1 }}>
                                        <span style={{ fontSize: 13, color: "#cbd5e1" }}>{s.name}</span>
                                        {s.zone && <span style={{ marginLeft: 6, fontSize: 10, padding: "1px 6px", borderRadius: 3, background: "#1e293b", color: "#94a3b8", fontFamily: "'DM Mono', monospace" }}>{s.zone}</span>}
                                      </div>
                                    </div>
                                  ))}
                                </div>
                              )}
                              {day.physio && (
                                <div style={{ marginTop: 10, padding: "8px 10px", borderRadius: 8, background: "#4a1d9611", border: "1px solid #4a1d9633" }}>
                                  <div style={{ fontSize: 10, fontWeight: 700, color: "#a78bfa", textTransform: "uppercase", letterSpacing: 1, marginBottom: 4 }}>Physio Integration</div>
                                  {day.physio.map((p, pi) => <div key={pi} style={{ fontSize: 12, color: "#c4b5fd", lineHeight: 1.5 }}>{p}</div>)}
                                </div>
                              )}
                              {day.notes && (
                                <div style={{ marginTop: 10, padding: "8px 10px", borderRadius: 8, background: "#1e293b44" }}>
                                  <div style={{ fontSize: 10, fontWeight: 700, color: "#64748b", textTransform: "uppercase", letterSpacing: 1, marginBottom: 4 }}>Notes & Precautions</div>
                                  <p style={{ fontSize: 12, color: "#94a3b8", margin: 0, lineHeight: 1.5 }}>{day.notes}</p>
                                </div>
                              )}
                              <div style={{ marginTop: 10 }}>
                                <textarea placeholder="Add your notes (HR readings, how you felt, pain levels...)" value={notes[noteKey] || ""} onChange={(e) => updateNote(selectedWeek, dayIdx, e.target.value)} style={{ width: "100%", minHeight: 60, padding: "8px 10px", borderRadius: 8, border: "1px solid #1e293b", background: "#0a0a0a", color: "#e2e8f0", fontSize: 12, fontFamily: "'DM Sans', system-ui", resize: "vertical", outline: "none", boxSizing: "border-box" }} onFocus={(e) => e.target.style.borderColor = phase?.color || "#475569"} onBlur={(e) => e.target.style.borderColor = "#1e293b"} />
                              </div>
                            </div>
                          )}
                        </div>
                      );
                    })}
                  </>
                )}
              </>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
